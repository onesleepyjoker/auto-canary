apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  annotations:\r\n    description: 测试部署华为云仓库镜像的deployment负载\r\n  labels:\r\n    appgroup: ''\r\n    version: v1\r\n  name: rabbitmq-test\r\n  namespace: default\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      app: rabbitmq-test\r\n      version: v1\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: rabbitmq-test\r\n        version: v1\r\n    spec:\r\n      containers:\r\n        - name: container-1\r\n          image: >-\r\n            swr.cn-east-3.myhuaweicloud.com/isrc-test-develop-shanghai/rabbitmq:3.12-management\r\n          imagePullPolicy: IfNotPresent\r\n          env:\r\n            - name: PAAS_APP_NAME\r\n              value: rabbitmq-test\r\n            - name: PAAS_NAMESPACE\r\n              value: default\r\n            - name: PAAS_PROJECT_ID\r\n              value: 7f13238271724067ab27b812a440c461\r\n          resources:\r\n            requests:\r\n              cpu: 250m\r\n              memory: 512Mi\r\n            limits:\r\n              cpu: 250m\r\n              memory: 512Mi\r\n      imagePullSecrets:\r\n        - name: default-secret\r\n      terminationGracePeriodSeconds: 30\r\n      dnsPolicy: ClusterFirst\r\n      tolerations:\r\n        - key: node.kubernetes.io/not-ready\r\n          operator: Exists\r\n          effect: NoExecute\r\n          tolerationSeconds: 300\r\n        - key: node.kubernetes.io/unreachable\r\n          operator: Exists\r\n          effect: NoExecute\r\n          tolerationSeconds: 300\r\n      initContainers: []\r\n      volumes: []\r\n  replicas: 2\r\n  revisionHistoryLimit: 10\r\n  strategy:\r\n    type: RollingUpdate\r\n    rollingUpdate:\r\n      maxUnavailable: 25%\r\n      maxSurge: 25%\r\n  progressDeadlineSeconds: 600\r\n\r\n"